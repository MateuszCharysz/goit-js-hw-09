{"mappings":"qhBAAA,IAAAA,EAAAC,EAAA,SAKA,MAAMC,EAAMC,QAAQC,IAOdC,EAAOC,SAASC,cAAc,UAElCC,UAAUC,MAAEC,EAAKC,KAAEC,EAAIC,OAAEC,IACvBT,EACJH,EAAIQ,GACJR,EAAIU,GACJV,EAAIY,GAGJ,MAAMC,EAAgB,CAACC,EAAOC,EAAMC,KAalC,IAAIC,EAAM,IAAIC,MAAMF,IACpBhB,EAAIiB,GAEJA,EAAIE,SAAQ,CAACC,EAASC,KACpB,IAAIC,EAAkBR,EAAQC,EAAOM,EACjCE,EAAYC,SAASH,GAAS,EAClCI,WAlBoB,EAACC,EAAQC,KAC7B,MAAMC,EAAgBC,KAAKC,SAAW,GAEtC,OAAO,IAAIC,SAAQ,CAACC,EAASC,KACvBL,EACFI,EAAQ,CAAEE,SAAU,GAAGR,IAAUS,KAAM,GAAGR,MAG1CM,EAAO,CAAEG,WAAY,GAAGV,IAAUS,KAAM,GAAGR,KAAgB,GAE7D,EASAU,CAAcd,EAAWD,GACtBgB,MAAKC,GACJC,EAAA1C,GAAS2C,OAAOC,QACd,uBAAqBH,EAAIL,eAAmBK,EAAEJ,YAC7CQ,OAECC,GACJJ,EAAA1C,GAAQ2C,OAACI,QAAO,sBACbD,EAAuBR,iBAAiBQ,EAAMrC,aAAee,EAGpE,GAEF,EAiBJnB,EAAK2C,iBAAiB,UAAUC,IAC9BA,EAAMC,iBAGNnC,EAAcL,EAAMyC,cAAevC,EAAKuC,cAAerC,EAAOqC,cAAc","sources":["src/js/03-promises.js"],"sourcesContent":["'use strict';\nimport Notiflix from 'notiflix';\nimport 'notiflix/dist/notiflix-3.2.6.min.css';\n\n//help\nconst log = console.log;\n\n//DOM\n// const delay = document.querySelector('[name=\"delay\"]')\n// log(delay)\n// const step = document.querySelector('[name=\"step\"]');\n// const amount = document.querySelector('[name=\"amount\"]');\nconst form = document.querySelector('.form');\nconst {\n  elements: { delay, step, amount },\n} = form;\nlog(delay);\nlog(step);\nlog(amount);\n//CALLBACK/FUNCTIONS\n\nconst promiseLoader = (delay, step, amount) => {\n  const createPromise = (callId, timeOfLunch) => {\n    const shouldResolve = Math.random() > 0.3;\n\n    return new Promise((resolve, reject) => {\n      if (shouldResolve) {\n        resolve({ position: `${callId}`, time: `${timeOfLunch}` });\n        // Fulfill\n      } else {\n        reject({ orposition: `${callId}`, time: `${timeOfLunch}` }); // Reject\n      }\n    });\n  };\n  let arr = [...Array(amount)];\n  log(arr);\n\n  arr.forEach((element, index) => {\n    let timeOfLunchMath = delay + step * index;\n    let promiseId = parseInt(index) + 1;\n    setTimeout(\n      createPromise(promiseId, timeOfLunchMath)\n        .then(value =>\n          Notiflix.Notify.success(\n            `✅ Fulfilled promise ${value.position} in ${value.time}ms`,\n          ),\n        )\n        .catch(error =>\n          Notiflix.Notify.failure(\n            `❌ Rejected promise ${error.orposition} in ${error.delay}ms`,\n          ),\n        ),\n      timeOfLunchMath,\n    );\n  });\n};\n\n// const intervalId = setInterval(createPromise(), step);\n// setTimeout(intervalId, delay)\n\n// .then((resolve) =>\n//   Notiflix.Notify.success(`✅ Fulfilled promise ${position} in ${delay}ms`),\n// )\n// .catch((reject) =>\n//   Notiflix.Notify.failure(`❌ Rejected promise ${position} in ${delay}ms`),\n// );\n\n// Notiflix.Notify.success(`✅ Fulfilled promise ${position} in ${delay}ms`);\n// Notiflix.Notify.failure(`❌ Rejected promise ${position} in ${delay}ms`);\n\n//EVENTS\nform.addEventListener('submit', event => {\n  event.preventDefault();\n  // log(delay.value, step.value, amount.value) // it works\n  // log(typeof delay.value); valueAsNumber\n  promiseLoader(delay.valueAsNumber, step.valueAsNumber, amount.valueAsNumber);\n});\n"],"names":["$7Y9D8","parcelRequire","$47d4ff9957288465$var$log","console","log","$47d4ff9957288465$var$form","document","querySelector","elements","delay","$47d4ff9957288465$var$delay","step","$47d4ff9957288465$var$step","amount","$47d4ff9957288465$var$amount","$47d4ff9957288465$var$promiseLoader","delay1","step1","amount1","arr","Array","forEach","element","index","timeOfLunchMath","promiseId","parseInt","setTimeout","callId","timeOfLunch","shouldResolve","Math","random","Promise","resolve","reject","position","time","orposition","createPromise","then","value","$parcel$interopDefault","Notify","success","catch","error","failure","addEventListener","event","preventDefault","valueAsNumber"],"version":3,"file":"03-promises.2a5485e2.js.map"}